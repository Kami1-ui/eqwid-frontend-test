{"version":3,"sources":["redux/gallery-reducer.js","assets/preloader.gif","components/Gallery/Gallery.jsx","components/Lightbox/Lightbox.jsx","components/DragArea/DragArea.jsx","promises/promises.js","components/Gallery/GalleryContainer.js","assets/logo.png","components/Header/Header.jsx","components/Header/HeaderContainer.js","App.js","reportWebVitals.js","redux/store.js","index.js"],"names":["LOAD_JSON","LOAD_IMAGE","SET_IMAGE_IN_LOAD","SET_EDIT_MODE","DELETE_IMAGE","SHOW_LIGHTBOX","HIDDEN_LIGHTBOX","NEXT_IMAGE","PREV_IMAGE","initialState","galleryImages","imagesInLoad","editMode","indexShowImage","lightboxUrl","loadJson","images","type","loadImage","image","galleryReducer","state","action","newItems","i","length","push","newImgItem","url","src","width","height","index","nextImg","prevImg","filter","img","isFetching","id","Gallery","imgProportions","imgItemsSize","itemsCount","minHeight","setContainer","setState","container","alignRows","cssContainer","startRow","props","paddingCssContainer","widthSumRow","newImgItemsSize","itemWidth","addHeight","j","initialItems","newImgProportions","forEach","widthCssContainer","window","screen","minWidthCssContainer","updateScreenSize","innerWidth","removeEventListener","this","addEventListener","className","map","loading","some","elem","style","onClick","deleteImage","preloader","alt","onLoad","setImagesInLoad","showLightbox","React","Component","Lightbox","LightboxDiv","createRef","current","focus","tabIndex","ref","onKeyDown","e","key","next","prev","hide","DragArea","isDrop","setDrop","value","dragStart","preventDefault","dragLeave","onDrop","event","a","files","dataTransfer","loadFiles","onDragStart","onDragLeave","onDragOver","multiple","name","onChange","target","accept","htmlFor","getImage","Promise","res","rej","Image","onload","onerror","getJson","axios","then","response","data","GaleryContainer","file","split","pop","reader","FileReader","readAsText","result","readTxt","JSON","parse","catch","alert","readAsDataURL","readImageAsDataUrl","hiddenLightbox","nextImage","prevImage","connect","gallery","lightboxShow","Header","logo","placeholder","inputUrl","text","updateInputUrl","loadUrl","setEditMode","HeaderContainer","fileExtend","ext","App","GalleryContainer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bac72939.chunk.js","sourcesContent":["const LOAD_JSON = 'LOAD_JSON';\r\nconst LOAD_IMAGE = 'LOAD_IMAGE';\r\nconst SET_IMAGE_IN_LOAD = 'SET_IMAGE_IN_LOAD';\r\n\r\nconst SET_EDIT_MODE = 'SET_EDIT_MODE';\r\nconst DELETE_IMAGE = 'DELETE_IMAGE';\r\n\r\nconst SHOW_LIGHTBOX = 'SHOW_LIGHTBOX';\r\nconst HIDDEN_LIGHTBOX = 'HIDDEN_LIGHTBOX';\r\nconst NEXT_IMAGE = 'NEXT_IMAGE';\r\nconst PREV_IMAGE = 'PREV_IMAGE';\r\n\r\n\r\nconst initialState = {\r\n    galleryImages: [],\r\n    imagesInLoad: [],\r\n    editMode: false,\r\n    indexShowImage: 0,\r\n    lightboxUrl: '',\r\n\r\n\r\n};\r\n\r\n\r\nconst galleryReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case LOAD_JSON:\r\n\r\n            let newItems = [];\r\n            for (let i = state.galleryImages.length; i < action.images.length; i++) {\r\n                newItems.push(i);\r\n            }\r\n            return {\r\n                ...state,\r\n                galleryImages: [...state.galleryImages, ...action.images],\r\n                imagesInLoad: [...state.imagesInLoad, ...newItems],\r\n            };\r\n\r\n        case LOAD_IMAGE:\r\n\r\n\r\n            let newImgItem = {\r\n                url: action.image.src,\r\n                width: action.image.width,\r\n                height: action.image.height\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                galleryImages: [...state.galleryImages, newImgItem],\r\n                imagesInLoad: [...state.imagesInLoad, state.galleryImages.length],\r\n            };\r\n\r\n        case SHOW_LIGHTBOX:\r\n            return {\r\n                ...state,\r\n                lightboxUrl: state.galleryImages[action.index].url,\r\n                indexShowImage: action.index\r\n            };\r\n\r\n        case HIDDEN_LIGHTBOX:\r\n            return {\r\n                ...state,\r\n                lightboxUrl: ''\r\n            };\r\n\r\n        case NEXT_IMAGE:\r\n            let nextImg = state.indexShowImage + 1;\r\n            if (state.galleryImages.length === nextImg) nextImg = 0;\r\n\r\n            return {\r\n                ...state,\r\n                indexShowImage: nextImg,\r\n                lightboxUrl: state.galleryImages[nextImg].url,\r\n            };\r\n\r\n        case PREV_IMAGE:\r\n            let prevImg = state.indexShowImage - 1;\r\n            if (prevImg === -1) prevImg = state.galleryImages.length - 1;\r\n\r\n            return {\r\n                ...state,\r\n                indexShowImage: prevImg,\r\n                lightboxUrl: state.galleryImages[prevImg].url,\r\n            };\r\n\r\n\r\n        case SET_EDIT_MODE:\r\n            return {\r\n                ...state,\r\n                editMode: !state.editMode\r\n            };\r\n\r\n        case DELETE_IMAGE:\r\n            return {\r\n                ...state,\r\n                galleryImages: state.galleryImages.filter((img, i) => i !== action.index)\r\n            };\r\n\r\n        case SET_IMAGE_IN_LOAD:\r\n            return {\r\n                ...state,\r\n                imagesInLoad: action.isFetching\r\n                    ? [state.imagesInLoad, action.index]\r\n                    : state.imagesInLoad.filter(id => id !== action.index),\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const loadJson = (images) => ({ type: LOAD_JSON, images });\r\nexport const loadImage = (image) => ({ type: LOAD_IMAGE, image });\r\n\r\n\r\nexport const showLightbox = (index) => ({ type: SHOW_LIGHTBOX, index });\r\nexport const hiddenLightbox = () => ({ type: HIDDEN_LIGHTBOX });\r\nexport const nextImage = () => ({ type: NEXT_IMAGE });\r\nexport const prevImage = () => ({ type: PREV_IMAGE });\r\n\r\nexport const setEditMode = () => ({ type: SET_EDIT_MODE });\r\nexport const deleteImage = (index) => ({ type: DELETE_IMAGE, index })\r\nexport const setImagesInLoad = (isFetching, index) => ({ type: SET_IMAGE_IN_LOAD, index, isFetching });\r\n\r\nexport default galleryReducer;","export default __webpack_public_path__ + \"static/media/preloader.dbb22bcf.gif\";","import React from 'react';\r\nimport preloader from '../../assets/preloader.gif'\r\n\r\nclass Gallery extends React.Component {\r\n\r\n    state = {\r\n        imgProportions: [],\r\n        imgItemsSize: [],\r\n        itemsCount: 0,\r\n        minHeight: 96,\r\n    }\r\n\r\n    setContainer = (width) => {\r\n        this.setState({\r\n            container: width,\r\n        })\r\n    }\r\n\r\n    alignRows = (imgProportions, cssContainer) => {\r\n        let startRow = 0;\r\n\r\n        let paddingCssContainer = this.props.paddingCssContainer;\r\n        cssContainer = cssContainer - paddingCssContainer;\r\n\r\n        let widthSumRow = 0;\r\n\r\n        let minHeight = this.state.minHeight;\r\n\r\n        let newImgItemsSize = [];\r\n\r\n        for (let i = 0; i < this.props.galleryImages.length; i++) {\r\n            let itemWidth = imgProportions[i] * minHeight;\r\n\r\n            if (cssContainer < widthSumRow + itemWidth) {\r\n                let div = cssContainer - widthSumRow;\r\n                let addHeight = div / (i - startRow);\r\n\r\n                if (startRow === i - 1) {\r\n                    let height = cssContainer / imgProportions[startRow];\r\n                    let width = cssContainer;\r\n                    newImgItemsSize[startRow] = { width, height };\r\n\r\n                } else {\r\n                    for (let j = startRow; j < i; j++) {\r\n                        let width = (imgProportions[j] * minHeight) + addHeight;\r\n                        let height = minHeight + addHeight;\r\n                        newImgItemsSize[j] = { width, height };\r\n                    }\r\n                }\r\n                startRow = i;\r\n                widthSumRow = itemWidth;\r\n\r\n            } else {\r\n                widthSumRow += itemWidth;\r\n            }\r\n\r\n            let width = imgProportions[i] * minHeight;\r\n            let height = minHeight;\r\n            newImgItemsSize.push({ width, height })\r\n        }\r\n        return newImgItemsSize;\r\n    }\r\n\r\n    initialItems = () => {\r\n        let newImgProportions = [];\r\n        this.props.galleryImages.forEach(image => {\r\n            newImgProportions.push(image.width / image.height)\r\n        });\r\n\r\n        let widthCssContainer = this.props.widthCssContainer;\r\n\r\n        if (window.screen.width < widthCssContainer) {\r\n            widthCssContainer = window.screen.width;\r\n        }\r\n        if (window.screen.width <= this.props.minWidthCssContainer) {\r\n            widthCssContainer = this.props.minWidthCssContainer;\r\n        }\r\n\r\n        let newImgItemsSize = this.alignRows(newImgProportions, widthCssContainer);\r\n\r\n        this.setState({\r\n            imgProportions: [...newImgProportions],\r\n            itemsCount: this.props.galleryImages.length,\r\n            imgItemsSize: [...newImgItemsSize]\r\n        })\r\n    }\r\n\r\n    updateScreenSize = () => {\r\n\r\n        if (window.innerWidth < this.props.widthCssContainer) {\r\n            let newImgItemsSize = this.alignRows(this.state.imgProportions, window.innerWidth);\r\n            this.setState({\r\n                imgItemsSize: [...newImgItemsSize]\r\n            })\r\n        }\r\n\r\n        if (window.innerWidth <= this.props.minWidthCssContainer) {\r\n            let newImgItemsSize = this.alignRows(this.state.imgProportions, this.props.minWidthCssContainer);\r\n            this.setState({\r\n                imgItemsSize: [...newImgItemsSize]\r\n            })\r\n        }\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.updateScreenSize);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        window.addEventListener('resize', this.updateScreenSize);\r\n        this.initialItems();\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.props.galleryImages.length !== this.state.itemsCount) {\r\n\r\n            this.initialItems();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"gallery__row\" >\r\n\r\n            {this.props.galleryImages\r\n                ? this.props.galleryImages.map((img, i) => {\r\n\r\n                    let loading = this.props.imagesInLoad.some(elem => elem === i);\r\n\r\n                    return <div className=\"gallery__item\"\r\n                        style={this.state.imgItemsSize[i] && { width: this.state.imgItemsSize[i].width, height: this.state.imgItemsSize[i].height }}\r\n                        key={i}>\r\n\r\n                        {this.props.editMode && <button className=\"gallery__remove\" onClick={() => this.props.deleteImage(i)}>Удалить</button>}\r\n\r\n                        {loading && <img src={preloader} alt=\"preloader\" className=\"gallery__preview\" />}\r\n\r\n                        <img src={img.url} alt=\"картинка\" onLoad={() => this.props.setImagesInLoad(false, i)}\r\n                            className={loading ? 'hide gallery__preview' : 'gallery__preview'}\r\n                            onClick={() => this.props.showLightbox(i)} />\r\n                    </div>\r\n                })\r\n\r\n                : <span>Элементов не найдено</span>}\r\n\r\n            <div className=\"gallery__item\">\r\n\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default Gallery;","import React from 'react';\r\nimport './Lightbox.css';\r\n\r\nclass Lightbox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.LightboxDiv = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.LightboxDiv.current.focus();\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"lightbox\" tabIndex=\"0\" ref={this.LightboxDiv}\r\n            onKeyDown={(e) => {\r\n                switch (e.key) {\r\n                    case 'ArrowRight':\r\n                        this.props.next();\r\n                        break;\r\n                    case 'ArrowLeft':\r\n                        this.props.prev();\r\n                        break;\r\n                    case 'Escape':\r\n                        this.props.hide();\r\n                        break;\r\n                    default:\r\n                }\r\n            }} >\r\n            <div className=\"lightbox__overlay\" onClick={() => this.props.hide()} ></div>\r\n            <div className=\"lightbox__content\">\r\n                <div className=\"lightbox__body\">\r\n                    <img src={this.props.url} alt=\"lightbox\" />\r\n                    <div className=\"lightbox__navigate\">\r\n                        <span className=\"lightbox__prev\" onClick={() => this.props.prev()} >prev</span> <br />\r\n                        <span className=\"lightbox__next\" onClick={() => this.props.next()}>next</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\nexport default Lightbox\r\n","import React from 'react';\r\nimport './DragArea.scss'\r\n\r\nclass DragArea extends React.Component {\r\n    state = {\r\n        isDrop: false,\r\n    }\r\n\r\n    setDrop = (value) => {\r\n        this.setState({\r\n            isDrop: value,\r\n        })\r\n\r\n    }\r\n    render() {\r\n        const dragStart = (e) => {\r\n            e.preventDefault();\r\n            this.setDrop(true);\r\n        }\r\n        const dragLeave = (e) => {\r\n            e.preventDefault();\r\n            this.setDrop(false);\r\n        }\r\n\r\n        const onDrop = async event => {\r\n            event.preventDefault();\r\n            let files = [...event.dataTransfer.files];\r\n            this.props.loadFiles(files);\r\n            this.setDrop(false);\r\n        };\r\n\r\n        const onChangeInputFile = event => {\r\n            let files = [...event.target.files];\r\n            this.props.loadFiles(files);\r\n        };\r\n\r\n\r\n        return <div className=\"drag-drop\">\r\n            {this.state.isDrop\r\n                ? <div className=\"drag-drop__area drop\"\r\n                    onDragStart={e => dragStart(e)}\r\n                    onDragLeave={e => dragLeave(e)}\r\n                    onDragOver={e => dragStart(e)}\r\n                    onDrop={e => onDrop(e)}\r\n                >  Отпустите файл чтобы загрузить файл</div>\r\n                : <div className=\"drag-drop__area\"\r\n                    onDragStart={e => dragStart(e)}\r\n                    onDragLeave={e => dragLeave(e)}\r\n                    onDragOver={e => dragStart(e)}\r\n                > <input multiple=\"multiple\" type=\"file\" id=\"input-file\" name=\"img\" onChange={onChangeInputFile} accept=\"image/jpeg,image/png,image/gif,json\"></input>\r\n                    <label htmlFor=\"input-file\" className=\"load-btn\">Выберите файл</label> или перетащите чтобы загрузить</div>\r\n            }\r\n\r\n\r\n        </div>\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default DragArea","import *as axios from 'axios';\r\n\r\nexport const readImageAsDataUrl = file => {\r\n    return new Promise((res, rej) => {\r\n        const reader = new FileReader();\r\n        reader.onload = e => res(e.target.result);\r\n        reader.onerror = e => rej(e);\r\n        reader.readAsDataURL(file);\r\n    });\r\n};\r\n\r\nexport const readTxt = file => {\r\n    return new Promise((res, rej) => {\r\n        const reader = new FileReader();\r\n        reader.readAsText(file);\r\n        reader.onload = e => res(e.target.result);\r\n        reader.onerror = e => rej(e);\r\n    });\r\n};\r\n\r\nexport const getImage = (url) => {\r\n    return new Promise((res, rej) => {\r\n        let image = new Image();\r\n        image.src = url;\r\n        image.onload = () => res(image);\r\n        image.onerror = e => rej(e);\r\n    })\r\n}\r\n\r\nexport const getJson = (url) => {\r\n    return axios.get(url).then(response => response.data.galleryImages);\r\n}\r\n","import React from 'react';\r\nimport images from '../../assets/data/images.json'\r\nimport './Gallery.css'\r\nimport { connect } from 'react-redux';\r\nimport { loadJson, loadImage, showLightbox, nextImage, prevImage, hiddenLightbox, deleteImage, setImagesInLoad } from '../../redux/gallery-reducer';\r\nimport Gallery from './Gallery';\r\nimport Lightbox from '../Lightbox/Lightbox';\r\nimport DragArea from '../DragArea/DragArea';\r\nimport { getImage, readImageAsDataUrl, readTxt } from '../../promises/promises';\r\n\r\n\r\nclass GaleryContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.loadJson(images.galleryImages)\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const loadFiles = files => {\r\n            files.forEach(file => {\r\n                switch (file.name.split('.').pop()) {\r\n                    case 'json':\r\n                        readTxt(file).then(response => {\r\n                            this.props.loadJson(JSON.parse(response).galleryImages);\r\n                        }).catch(() => {\r\n                            alert('Не удалось загрузить ' + file.name);\r\n                        })\r\n                        break;\r\n\r\n                    case 'jpg':\r\n                    case 'png':\r\n                        readImageAsDataUrl(file).then(src => {\r\n                            getImage(src).then(response => {\r\n                                this.props.loadImage(response);\r\n                            })\r\n                        }).catch(() => {\r\n                            alert('Не удалось загрузить ' + file.name);\r\n                        })\r\n                        break;\r\n\r\n                    default:\r\n                        alert('Неверный формат файла');\r\n                }\r\n\r\n            });\r\n\r\n\r\n        }\r\n\r\n        return <>\r\n            <DragArea loadFiles={loadFiles} />\r\n            <Gallery {...this.props} widthCssContainer={890} minWidthCssContainer={320} paddingCssContainer={30} />\r\n            {this.props.lightboxUrl !== ''\r\n                ? <Lightbox\r\n                    hide={this.props.hiddenLightbox}\r\n                    next={this.props.nextImage}\r\n                    prev={this.props.prevImage}\r\n                    url={this.props.lightboxUrl} /> : null}\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        galleryImages: state.gallery.galleryImages,\r\n        lightboxUrl: state.gallery.lightboxUrl,\r\n        lightboxShow: state.gallery.lightboxShow,\r\n        editMode: state.gallery.editMode,\r\n        imagesInLoad: state.gallery.imagesInLoad,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    loadImage,\r\n    loadJson,\r\n    showLightbox,\r\n    nextImage,\r\n    prevImage,\r\n    hiddenLightbox,\r\n    deleteImage,\r\n    setImagesInLoad,\r\n})(GaleryContainer)","export default __webpack_public_path__ + \"static/media/logo.89d98d09.png\";","import logo from '../../assets/logo.png'\r\nimport './Header.css'\r\n\r\nconst Header = (props) => {\r\n    let onChangeInputUrl = (e) => {\r\n        let text = e.target.value;\r\n        props.updateInputUrl(text);\r\n    }\r\n\r\n    return <header className=\"header\">\r\n        <div className=\"container\">\r\n\r\n            <div className=\"header__body\">\r\n\r\n                <div className=\"header__logo\">\r\n                    <img src={logo} alt=\"\" />\r\n                </div>\r\n\r\n                <div className=\"header__tools\">\r\n                    <div className=\"header__add add-img\">\r\n                        <input type=\"text\" placeholder=\"Введите url или json\" value={props.inputUrl} onChange={onChangeInputUrl}\r\n                            className=\"add-img__input\" onKeyDown={e => e.key === 'Enter' ? props.loadUrl() : null} />\r\n\r\n                        <input type=\"button\" className=\"add-img__btn header__btn\"\r\n                            onClick={props.loadUrl} value=\"Импорт\" />\r\n                    </div>\r\n                    <input type=\"button\" className=\"header__edit-btn header__btn\" onClick={props.setEditMode} value=\"Радактировать\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getImage, getJson } from '../../promises/promises';\r\nimport { loadImage, loadJson, setEditMode } from '../../redux/gallery-reducer';\r\n\r\nimport Header from './Header';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    state = {\r\n        inputUrl: '',\r\n        fileExtend: ''\r\n    }\r\n\r\n    loadUrl = () => {\r\n\r\n        let url = this.state.inputUrl;\r\n        switch (this.state.fileExtend) {\r\n            case 'json':\r\n                getJson(url).then(response => {\r\n                    this.props.loadJson(response);\r\n                }).catch(() => {\r\n                    alert('Не удалось загрузить json ' + url);\r\n                })\r\n                break;\r\n\r\n            case 'jpg':\r\n            case 'png':\r\n                getImage(url).then(response => {\r\n                    this.props.loadImage(response);\r\n                }).catch(() => {\r\n                    alert('Не удалось загрузить изображеение ' + url);\r\n                })\r\n                break;\r\n\r\n            default:\r\n                alert('Неверный формат файла ' + url);\r\n        }\r\n    }\r\n\r\n    updateInputUrl = (text) => {\r\n        let ext = text.split('.').pop();\r\n        this.setState({\r\n            inputUrl: text,\r\n            fileExtend: ext\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <Header {...this.props} inputUrl={this.state.inputUrl} loadUrl={this.loadUrl} updateInputUrl={this.updateInputUrl} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    loadImage,\r\n    loadJson,\r\n    setEditMode\r\n})(HeaderContainer)","import './App.css';\nimport GalleryContainer from './components/Gallery/GalleryContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\n\n\nconst App = () => {\n\n  return (\n    <>\n      <HeaderContainer />\n      <div className=\"container\">\n        <GalleryContainer />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers, createStore } from \"redux\";\r\nimport galleryReducer from \"./gallery-reducer\";\r\n\r\n\r\n\r\nlet reducers = combineReducers({\r\n    gallery: galleryReducer\r\n});\r\n\r\nlet store = createStore(reducers);\r\n\r\nexport default store;\r\nwindow.store = store;","import \"react-app-polyfill/ie11\";\nimport \"react-app-polyfill/stable\";\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\n\nReactDOM.render(\n\n\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}